<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>مصحفي المطور</title>
    <style>
        :root { --gold: #d4af37; --bg: #1a1a1a; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: var(--bg); overflow: hidden; font-family: sans-serif; }

        /* هيدر أنيق ولا يغطي المحتوى */
        .header {
            position: fixed; top: 0; width: 100%; height: 60px;
            background: rgba(20, 20, 20, 0.95); border-bottom: 2px solid var(--gold);
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 15px; box-sizing: border-box; z-index: 1000;
        }

        .info-text { color: var(--gold); font-size: 16px; font-weight: bold; text-shadow: 1px 1px 2px #000; }

        #surah-select {
            background: #333; color: var(--gold); border: 1px solid var(--gold);
            border-radius: 8px; padding: 4px; font-size: 14px; width: 120px;
        }

        /* حاوية السحب */
        .mushaf-slider {
            width: 100vw; height: 100vh;
            display: flex; overflow-x: scroll;
            scroll-snap-type: x mandatory;
            direction: ltr;
        }
        .mushaf-slider::-webkit-scrollbar { display: none; }

        /* تعديل حجم الصفحة هنا */
        .page-wrapper { 
            min-width: 100vw; height: 100vh; 
            scroll-snap-align: start; 
            display: flex; justify-content: center; align-items: center;
            padding: 70px 20px 20px 20px; /* هامش علوي 70px لترك مساحة للهيدر، و20px للجوانب */
            box-sizing: border-box;
        }

        .page-wrapper img { 
            max-width: 100%; max-height: 100%; 
            object-fit: contain; /* يمنع تمطيط الصورة ويحافظ على تناسقها */
            box-shadow: 0 0 20px rgba(0,0,0,0.5); /* ظل خفيف ليعطي عمق */
        }
    </style>
</head>
<body>

    <div class="header" id="main-header">
        <select id="surah-select" onchange="goToSurah(this.value)">
            <option value="">اختر السورة..</option>
        </select>
        <div class="info-text" id="display-info">سورة الفاتحة - ١</div>
    </div>

    <div class="mushaf-slider" id="slider">
        </div>

<script>
    const slider = document.getElementById('slider');
    const select = document.getElementById('surah-select');

    // الفهرس الأساسي
    const surahList = [
        {n:"الفاتحة", p:1}, {n:"البقرة", p:2}, {n:"آل عمران", p:50}, {n:"النساء", p:77}, {n:"المائدة", p:106},
        {n:"الأنعام", p:128}, {n:"الأعراف", p:151}, {n:"الأنفال", p:177}, {n:"التوبة", p:187}, {n:"يونس", p:208}
    ];

    function init() {
        surahList.forEach(s => {
            select.add(new Option(s.n, s.p));
        });

        for (let i = 1; i <= 604; i++) {
            const div = document.createElement('div');
            div.className = 'page-wrapper';
            const img = document.createElement('img');
            const pNum = i.toString().padStart(3, '0');
            img.src = pNum + ".jpg";
            img.onerror = function() { 
                this.src = "https://raw.githubusercontent.com/search5/quran-images/master/" + pNum + ".jpg"; 
            };
            div.appendChild(img);
            slider.appendChild(div);
        }
    }

    function goToSurah(p) {
        if(p) {
            slider.scrollTo({ left: (parseInt(p) - 1) * window.innerWidth, behavior: 'smooth' });
        }
    }

    slider.addEventListener('scroll', () => {
        const p = Math.round(slider.scrollLeft / window.innerWidth) + 1;
        let s = surahList.filter(x => x.p <= p).pop();
        document.getElementById('display-info').innerText = `سورة ${s ? s.n : ""} - ${p}`;
    });

    window.onload = init;
</script>
</body>
</html>
